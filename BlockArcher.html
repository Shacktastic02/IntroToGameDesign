<!DOCTYPE html>
<html>
    <head>
        <title>Block Archer</title>
        <style>
            *{
                margin: 0px;
                overflow: hidden;
            }
        </style>
    </head>

    <body>
        <canvas id="canv"></canvas>

        <script src="engine/Scene.js"></script>
        <script src="engine/Collisions.js"></script>
        <script src="engine/Input.js"></script>
        <script src="engine/Time.js"></script>
        
        <script src="games/components/Player.js"></script>
        <script src="games/components/ally.js"></script>
        <script src="games/components/projectile.js"></script>
        <script src="games/components/enemy.js"></script>

        <script src="games/scenes/Level.js"></script>
        <script src="games/scenes/Loss.js"></script>
        <script src="games/scenes/Menu.js"></script>
        <script src="games/scenes/Victory.js"></script>

        <script>
///////////////////////////////////////////////GLOBALS/////////////////////////////////////////////////////////////////
           
           let curScene
           let canvas
           let ctx
//////////////////////////////////////////////FUNCTIONS////////////////////////////////////////////////////////////////

            //game loop
            function tick(){
                //curScene.update()
                curScene.draw(ctx, canvas)
            }

            function setup(){
                window.addEventListener("keydown", Input.keydown)
                window.addEventListener("keyup", Input.keyup)

                canvas = document.getElementById("canv")
                ctx = canvas.getContext("2d")

                canvas.width = window.innerWidth
                canvas.height = window.innerHeight

            }

//////////////////////////////////////////////////CALLS////////////////////////////////////////////////////////////////          
            
            curScene = new Level()
            setup()
            curScene.start()
            setInterval(tick, Time.msBtwFrames)
            
        </script>
    </body>
</html>
